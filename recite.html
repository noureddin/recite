<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<!--
    This code may not look great; I'm still trying to improve it.
    If you have an advice, please let me know!
    ---
    One thing that makes this code look horrible, is that I wanted it to be
    a self-contained Single-Page Application, taken in the literal sense(!).
    I'm still trying to see how I can easily load only the needed ayat
    on-demand, from other file(s), possibly asynchronously.
    When I achieve that, I'll decompose this monstrous file into a number
    of small files with cleanly-defined boundaries.
-->
<<!!# this file uses a small preprocessor to embed fonts and data; see index.html for the actual HTML file>>
<title>راجع ما تحفظ من القرآن الكريم</title>
<style>

/* fonts */
/* Amiri Quran and Amiri Quran Colored 0.112, SIL OFL 1.1; https://github.com/alif-type/amiri */
@font-face {
  font-family: AmiriQuranWeb;
  font-style: normal;
  font-weight: 400;
  src: url(data:application/x-font-woff;charset=utf-8;base64,<<!!base64 -w0 webres/AmiriQuran.woff>>) format('woff');
}
@font-face {
  font-family: AmiriQuranColoredWeb;
  font-style: normal;
  font-weight: 400;
  src: url(data:application/x-font-woff;charset=utf-8;base64,<<!!base64 -w0 webres/AmiriQuranColored.woff>>) format('woff');
}
/* The following two fonts are from: https://sourceforge.net/projects/arabeyes/files/Fonts/ */
/* They are under GNU GPL v2. Both are converted from TrueType to WOFF using */
/* the WOFFjs-based WOFFer at: https://andrewsun.com/tools/woffer-woff-font-converter/ */
@font-face {
  font-family: KacstOne; /* version 5.0 */
  font-style: normal;
  font-weight: 400;
  src: url(data:application/x-font-woff;charset=utf-8;base64,<<!!base64 -w0 webres/KacstOne.woff>>) format('woff');
}
@font-face {
  font-family: Cortoba;  /* version 2.1 */
  font-style: normal;
  font-weight: 400;
  src: url(data:application/x-font-woff;charset=utf-8;base64,<<!!base64 -w0 webres/ae_Cortoba.woff>>) format('woff');
}

<<!!cat style.css>>

/* images */

/* spinner is currently unused; may be used later */
#spinner { animation: spin 1.6s infinite linear; }
@keyframes spin {
    0% { stroke-dashoffset:    0; }
  100% { stroke-dashoffset: -210; }
}

body {
  background-color: #f9f6e7; /* #f9f4d6; /**/
}

</style>
<style id="textclr_style"></style>
<style id="ayatnum_style"></style>
</head>
<body>
<div id="all">

<!-- These 2 images are based on the Public Domain (CC0) image by ben, at -->
<!--  Openclipart: https://openclipart.org/detail/179856/arrow-by-ben-179856 -->
<!--  Modified a little by me, and minified by Nano: https://vecta.io/nano -->
<a id="up" onmouseup="scroll_to_select()"><<!!cat webres/arrows-up-_minified.svg | tr -d '\n'>></a>
<a id="dn" onmouseup="scroll_to_toggle()"><<!!cat webres/arrows-dn-_minified.svg | tr -d '\n'>></a>

<section id="help">
<input type="checkbox" id="helptoggle" onchange="help_toggled()">
<label for="helptoggle"> شرح هذه الصفحة</label>

<div id="helpcontentcontainer">
<dl id="helpcontent">

<<!!perl processhelp.pl help.xmd>>

</dl>
<div id="justbeforetoggle"></div>
</div>
</section>

<!-- I used to use sura_start, sura_end, aya_start, and aya_end, but changed -->
<!--  them to sura_beg, sura_end, aaya_beg, and aaya_end to make them equal in -->
<!--  length and show their parallelism, thus making the code a little easier. -->
<!-- Also note that aaya is a more accurate transliteration than aya and ayah, -->
<!--  and rhymes with sura, both have a stressed, long vowel in the first -->
<!--  syllable, and a short unstressed vowel in the second syllable. -->

<table><tr><td>
  <label for="sura_beg">من سورة:</label>
  <select id="sura_beg" oninput="start_reciting(this)">
    <option value="" selected>السورة</option>
    <<!!bash -c 'i=0; cat webres/suar-names | while read sura; do echo "<option value=\"$i\">$sura</option>"; i=$[i+1]; done | tr -d "\n"'>>
  </select>
</td><td>
  <label for="aaya_beg">الآية:</label>
  <input id="aaya_beg" oninput="start_reciting(this)">
</td></tr></table>

<table><tr><td>
  <label for="sura_end">إلى سورة:</label>
  <select id="sura_end" oninput="start_reciting(this)">
    <option value="" selected>السورة</option>
    <<!!bash -c 'i=0; cat webres/suar-names | while read sura; do echo "<option value=\"$i\">$sura</option>"; i=$[i+1]; done | tr -d "\n"'>>
  </select>
</td><td>
  <label for="aaya_end">الآية:</label>
  <input id="aaya_end" oninput="start_reciting(this)">
</td></tr></table>

<table><tr><td>
  <label for="textclr_input">تلوين النص:</label>
  <select id="textclr_input" onchange="chstyle()">
    <option value="taj" selected>تبعا لقواعد التجويد</option>
    <option value="bas">تلوين أجزاء الرسم</option>
    <option value="no">بغير أي تلوين</option>
  </select>
</td><td>
  <input id="ayatnum_input" type="checkbox" checked onchange="chstyle()">
  <label for="ayatnum_input">تلوين أرقام الآيات؟</label>
</td><td>
  <input id="darkmode_input" type="checkbox" onchange="chstyle()">
  <label for="darkmode_input">الوضع الليلي؟</label>
</td></tr></table>

<<!!sed '/__END__/,$d' qaris.html>>

<hr>
<div id="justafterselect"></div>

<div id="txt"></div>

<button disabled title="حدد ما تريد مراجعته أو تسميعه، ثم اضغط على هذا الزر." id="ok">سمّع!</button>

<button hidden title="اضغط لإعادة تسميع هذه الآيات نفسها" id="repeat">إعادة</button>

</div>

<script>
<<!!cat javascript.js>>
</script>

</body>
</html>
<!-- vim: set sw=2 ts=2 et colorcolumn=80: -->
