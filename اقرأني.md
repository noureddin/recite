<div dir="rtl">

# رسايت (نسخة الويب)

<div align="center">~~ <strong><a href="README.md">ReadMe in English</a></strong> ~~</div>
<p></p>

هذه نسخة الويب من  [رسايت الحاسوبي](https://github.com/noureddin/recite/tree/master)، ولكن للقرءان فقط، وبخصائص أكثر كثيرًا.

استخدمها على: [noureddin.github.io/recite](https://noureddin.github.io/recite).

---

## الخصائص

<ol dir="rtl">
<li>وضعان للتسميع:

  <ol dir="rtl">
  <li>بالرسم العثماني (لا كتابة)،
  <li>وبالرسم الإملائي (كتابة).
  </ol>

<li>تلاوة صوتية اختياريًّا بعد إتمام تسميع كل آية، في كلا الوضعين. (يمكن اختياريا جعلها <i>قبل</i> كل آية، والذي يسمى «الوضع المعلم».)

<li>الوضع الليلي، إضافةً إلى الوضع النهاري المبدئي.

<li>إمكانية اختبار تسميع أي أيات متتالية بغض النظر عن سورها، فيمكن مثلا تسميع عدد من السور الكاملة، أو تسميع جزء كامل يبدأ في منتصف سورة وينتهي في منتصف سورة أخرى، وغير ذلك.

<li>تلوين النص طبقا لأحكام التجويد (مثل مصحف دار المعرفة) في الوضع العثماني، ويمكن جعل النص بلا تلوين.

<li>إمكانية استخدام لوحة المفاتيح وحدها، أو الفأرة وحدها، أو لوحة اللمس وحدها، أو حتى شاشة اللمس وحدها.

<li>استخدام تصميم ويب مستجيب، فيتكيّف مع تقريبا أي جهاز، من شاشات التلفاز الكبيرة إلى الهواتف المحمولة الصغيرة. 

<li>(للخارقين) مُعامِلات رابط «للضبط المسبق» للإعدادات وحتى لاختيار الآيات المراد تسميعها. (مفصل بالأسفل.)

<li>(للمطورين) سَهولة تضمينه في تطبيقات ويب أخرى. (مفصل بالأسفل، تحت عنوان «مُعامِلات رابط أشد تقدما».)
</ol>

### مُعامِلات الرابط (للمستخدمين المتقدمين)

> `https://noureddin.github.io/recite/?PARAMS`

أمثلة على `PARAMS`:

<ul dir="rtl">
<li><code dir="ltr">s=1</code>: السورة الأولى بكاملها.
<li><code dir="ltr">s=2</code>: السورة الثانية بكاملها.
<li><code dir="ltr">s=1-2</code>: السورتان الأولى والثانية.
<li><code dir="ltr">s=-3</code>: السور الثلاثة الأولى (<code dir="ltr">1</code> اخياري هنا).
<li><code dir="ltr">s=78-</code>: جميع السور من سورة النبأ (السورة ٧٨) حتى نهاية القرءان.
<li><code dir="ltr">p=1</code>: الصفحة الأولى بكاملها (في مصحف المدينة).
<li><code dir="ltr">p=2</code>: الصفحة الثانية بكاملها (في مصحف المدينة).
<li><code dir="ltr">p=1-3</code>: الصفحات الثلاثة الأولى (في مصحف المدينة).
<li><code dir="ltr">j=1</code>: الجزء الأول بكامله.
<li><code dir="ltr">j=30</code>: الجزء الأخير بكامله.
<li><code dir="ltr">r=1-4</code>: الأرباع الأربعة الأولى (في القرءان بكامله).
<li><code dir="ltr">r=10//1</code>: الربع الأول في الجزء العاشر.
<li><code dir="ltr">r=10//1-10//2</code>: أول ربعين في الجزء العاشر.
<li><code dir="ltr">r=10//7-10//8</code>: آخر ربعين في الجزء العاشر.
<li><code dir="ltr">h=1</code>: الحزب الأول بكامله (الحزب هو نصف جزء).
<li><code dir="ltr">1/1-1/3</code>: من الآية الأولى من السورة الأولى حتى الآية الثالثة من السورة الأولى.
<li><code dir="ltr">2/1-4/3</code>: من الآية الأولى من السورة الثانية حتى الآية الثالثة من السورة الرابعة.
</ul>

يمكن مع جميع هذه المُعامِلات زيادة <code dir="ltr">a=</code> لإضافة آيات **بعد** المدى المحدد، أو <code dir="ltr">b=</code> لإضافة آيات **قبل** المدى المحدد، أو كليهما معا. أمثلة:

<ul dir="rtl">
<li><code dir="ltr">p=1-3&a=1</code>: الصفحات الثلاثة الأولى (في مصحف المدينة) والآية التي بعدها.
<li><code dir="ltr">j=15&a=36</code>: الجزء الخامس عشر بكامله و٣٦ آية بعده.
<li><code dir="ltr">j=2&b=5</code>: الجزء الثاني بكامله وخمس آيات قبله.
<li><code dir="ltr">p=3&b=1&a=2</code>: الصفحة الثالثة وآية قبلها وآيتان بعدها.
</ul>

مُعامِلات أخرى لضبط القيم المبدئية للخيارات:

<ul dir="rtl">
<li><code dir="ltr">d</code> أو <code dir="ltr">dark</code>:
اختيار الوضع الليلي.
<li><code dir="ltr">l</code> أو <code dir="ltr">light</code>:
إلغاء اخيار الوضع الليلي (المبدئي؛ استخدمه فقط لإلغاء <code dir="ltr">d</code> سابق).

<li><code dir="ltr">c=</code> أو <code dir="ltr">color=</code>:
اختيار نمط تلوين النص في الوضع العثماني؛ يقبل القيم التالية:

  <ol dir="rtl">
  <li><code dir="ltr">t</code> أو <code dir="ltr">taj</code> أو <code dir="ltr">tajweed</code>: طبقا لأحكام التجويد (المبدئي).
  <li><code dir="ltr">b</code> أو <code dir="ltr">bas</code> أو <code dir="ltr">basic</code>: تلوين أجزاء الرسم.
  <li><code dir="ltr">n</code> أو <code dir="ltr">no</code> أو <code dir="ltr">none</code>: بغير تلوين.
  </ol>

<li><code dir="ltr">m=</code> أو <code dir="ltr">mv=</code> أو <code dir="ltr">mvbtns=</code>:
اختيار موضع أزرار التسميع في الوضع العثماني؛ يقبل القيم التالية:

  <ol dir="rtl">
  <li><code dir="ltr">b</code>: أسفل (المبدئي).
  <li><code dir="ltr">r</code>: يمين.
  <li><code dir="ltr">l</code>: يسار.
  </ol>

<li><code dir="ltr">q=</code> أو <code dir="ltr">qz=</code> أو <code dir="ltr">quizmode=</code>:
اختيار وضع التسميع؛ يقبل القيم التالية:

  <ol dir="rtl">
  <li><code dir="ltr">u</code> أو <code dir="ltr">uthm</code> أو <code dir="ltr">uthmani</code>:
ع التسميع العثماني اللاكتابي (المبدئي؛ استخدمه فقط لإلغاء <code dir="ltr">quizmode=imlaai</code> سابق).
  <li><code dir="ltr">i</code> أو <code dir="ltr">imla</code> أو <code dir="ltr">imlaai</code>:
ع التسميع الإملائي الكتابي.
  </ol>

<li><code dir="ltr">byword</code>:
تغيير معدل مراجعة الأخطاء في الوضع الإملائي إلى «كل&nbsp;كلمة»، بدلا من «كل&nbsp;حرف».
<li><code dir="ltr">byletter</code>:
تغيير معدل مراجعة الأخطاء في الوضع الإملائي إلى «كل&nbsp;حرف»، بدلا من «كل&nbsp;كلمة» (المبدئي؛ استخدمه فقط لإلغاء <code dir="ltr">byword</code> سابق).

<li><code dir="ltr">t</code> أو <code dir="ltr">teach</code> أو <code dir="ltr">teacher</code>:
تفعيل الوضع المعلم (تشغيل التلاوة الصوتية للآية **قبل** بدء تسميعها، وليس بعدها).
<li><code dir="ltr">n</code> أو <code dir="ltr">noteach</code> أو <code dir="ltr">noteacher</code>:
تعطيل الوضع المعلم (المبدئي؛ تشغيل التلاوة الصوتية للآية **بعد** الانتهاء من تسميعها، وليس قبلها).

<li><code dir="ltr">qari=</code>:
تحديد التلاوة الصوتية؛ أيّ قيمة غير مقبولة تعتبر «بغير تلاوة صوتية»، بما في ذلك عدم إعطاء قيمة. يحتوي <a href="res/qaris">مِلف القراء</a> على عنوان كل تلاوة صوتية متبوعا باسمها العربي. القيم المقبولة لهذا المُعامِل هي العناوين (السطور التي كلها بالحروف الإنجليزية وبغير مسافات).

  <p><strong>ملاحظة:</strong> لا تسمح المتصفحات لأي صفحة بتشغيل صوتيات قبل أن يتفاعل معها المستخدم، إلا إذا أعطى المستخدم لهذا النطاق (الموقع) الإذن بتشغيل الصوتيات آليًّا. لذا، فإذا استخدمت هذه المُعامِلات لاختيار آيات وقارئ <strong>وكذلك</strong> تفعيل الوضع المعلم، فإنك لن تسمع الآية الأولى. اضغط في أي مكان على الصفحة ثم اضغط زر Escape (أو Esc) على لوحة المفاتيح لسماعها. أو أعطِ <code dir="ltr">noureddin.github.io</code> الإذن بتشغيل الصوتيات آليًّا.

  <p><strong>معلومة:</strong> ضغط <kbd>Escape</kbd> في أي وقت يُعيد تشغيل التلاوة الصوتية الحالية. والذي يفيد خصوصا في الوضع المعلم.

</ul>

رجاءً لاحظ أن جميع هذه المُعامِلات تُغيّر فقط القيم المبدئية؛ ستبقى جميعها قابلة للتغيير من نافذة الخيارات.
(ولكن انظر «مُعامِلات رابط أشد تقدما» بالأسفل.)

<details>
<summary><b>مُعامِلات رابط أشد تقدما</b></summary>

<p></p>

لا يمكن تغيير هذه الخصائص من الواجهة، بل من مُعامِلات الرابط فقط، لأنها إما متقدمة جدا وإما خاصة باستخدام محدود جدا أو كلاهما، فلن تفيد الغالبية العظمى من المستخدمين.

<ul dir="rtl">
<li><code dir="ltr">qariurl=</code>:
لإعطاء رابط خادم تلاوتك الصوتية المفضلة، حتى لو خادم محلي (مثل <code dir="ltr">http://0.0.0.0:6236</code> ولكن <strong>ليس</strong>&nbsp;<code dir="ltr">file:///</code>). يجعل محدِّد التلاوة الصوتية فارغا. لكن اختيار تلاوة صوتية من الواجهة سيغطى على هذه الخاصية. يجب على الرابط المعطى أن يكون فيه صوتيات الآيات، فمثلا إضافة <code dir="ltr">/001001.mp3</code> إلى نهايته يجب أن تعطي صوت الآية الأولى من السورة الأولى.

<li><code dir="ltr">dt</code> أو <code dir="ltr">disableteacher</code>: لإزالة إمكانية تغيير الوضع المعلم من الواجهة. سيبقى الوضع المعلم قابلا للتغيير من مُعامِلات الرابط. هذا مفيد لفرض قيمة معينة له (مثلا بلا معلم) في حالة تضمينه في تطبيق ويب مثلا.

  <p><strong>تحذير:</strong> ستبقى قيمته قابلةً للتغيير من شاشة كونسول جافاسكربت؛ لم أستطيع تعطيل هذا بعد.

<li><code dir="ltr">dq</code> أو <code dir="ltr">disablequizmode</code>: لإزالة إمكانية تغيير وضع التسميع من الواجهة. سيبقى وضع التسميع قابلا للتغيير من مُعامِلات الرابط. هذا مفيد لفرض قيمة معينة له (مثلا الإملائي) في حالة تضمينه في تطبيق ويب مثلا.

  <p><strong>تحذير:</strong> ستبقى قيمته قابلةً للتغيير من شاشة كونسول جافاسكربت؛ لم أستطيع تعطيل هذا بعد.

<li><code dir="ltr">zz</code>:
للعمل داخل تطبيق آخر والتكامل معه. صُنع في الأساس من أجل <a href="https://github.com/noureddin/zz">ذِكر الذِكرِ</a>، ولكنه عام بما يكفي ليكون مفيدا للاستخدام في تطبيقات أخرى.

  <p>سيفعل ما يلي عند تفعيله:

  <ul dir="rtl">
  <li>عند البدء، سيضع زر «تجاهل» بدلا من زر «جديد» (إضافةً إلى زر «إعادة»).
  <li>عند البدء، سيُعلم التطبيق الأب بعنوان التسميع، حتى يتسنى له تحديث عنوان نافذته.
  <li>عند الانتهاء، سيُظهر زريْ «تجاهل» و«إعادة» بدلا من المحدِّدات الخاصة باختيار آيات جديدة.
  <li>عند الانتهاء، سيظهر زر «عودة» تحت رسالة النهاية.
  <li>عندما يغيّر المستخدم أي خيار، فإن التطبيق الأب سيعلم في الحال.
  </ul>

  <p>لاستخدام هذا الوضع، عليك تشغيل رسايت في إطار ضمني (<code dir="ltr">iframe</code>) باستخدام مُعامِل الرابط <code dir="ltr">zz</code>، وعليك تعريف هذه الدوال في مساحة الأسماء العامة في تطبيقك (أيْ تحت كائن <code dir="ltr">window</code>):

  <ul dir="rtl">
  <li><code dir="ltr">zz_show()</code>:
  تُنادى بعد التحميل الأساسي، حتى يُظهر التطبيق الأب إطار رسايت.
  <li><code dir="ltr">zz_done()</code>:
  تُنادى عند ضغط «عودة»، بعد الانتهاء من التسميع.
  <li><code dir="ltr">zz_ignore()</code>:
  تُنادى عند ضغط «تجاهل»، الذي قد يكون في أي وقت.

  <p>على عكس <code dir="ltr">zz_done()</code> (زر «عودة»)، فإن <code dir="ltr">zz_ignore()</code> تعني أن المستخدم لا يريد الاعتبار بهذا التسميع.
  فمثلا إذا كنت تسأل المستخدم عن مدى حفظه للآيات المحددة، فلا تفعل ذلك إذا نوديت <code dir="ltr">zz_ignore()</code> بدلا من <code dir="ltr">zz_done()</code>.

  <li><code dir="ltr">zz_set_title(title)</code>:
  تُنادى عند البدء لضبط عنوان نافذة الأب إلى عنوان التسميع الحالي، المطابق لعنوان نافذة رسايت دون <code>|&nbsp;رسايت</code> وللعنوان الظاهر فوق الأزرار العلوية.
  <li><code dir="ltr">zz_set_quizmode(uthm_or_imla)</code>:
  تُنادى عندما يغيّر المستخدم وضع التسميع. إما <code dir="ltr">"uthm"</code> للوضع العثماني (المبدئي) وإما <code dir="ltr">"imla"</code> للوضع الإملائي.
  <li><code dir="ltr">zz_set_feedbackrate(emptystring_or_word)</code>:
  تُنادى عندما يغيّر المستخدم معدل مراجعة الأخطاء في الوضع الإملائي. النص الفارغ (<code dir="ltr">""</code>) لكل حرف (المبدئي) و&nbsp;<code dir="ltr">"word"</code> لكل كلمة.
  <li><code dir="ltr">zz_set_tajweed(t_or_b_or_n)</code>:
  تُنادى عندما يغيّر المستخدم تلوين النص في الوضع العثماني. <code dir="ltr">"t"</code> للتجويد (المبدئي) و&nbsp;<code dir="ltr">"b"</code> للبسيط (أجزاء الرسم) و&nbsp;<code dir="ltr">"n"</code> لنفي التلوين.
  <li><code dir="ltr">zz_set_dark(boolean)</code>:
  تُنادى عندما يغيّر المستخدم محدِّد الوضع الليلي. إما <code dir="ltr">true</code> للوضع الليلي وإما <code dir="ltr">false</code> للوضع النهاري (المبدئي).
  <li><code dir="ltr">zz_set_mvbtns(b_or_r_or_l)</code>:
  تُنادى عندما يغيّر المستخدم موضع أزرار التسميع في الوضع العثماني. <code dir="ltr">"b"</code> للأسفل (المبدئي) و&nbsp;<code dir="ltr">"r"</code> لليمين و&nbsp;<code dir="ltr">"l"</code>.
  </ul>

  <p>في الغالب ستشغل رسايت بمدى معين من الآيات لبدء التسميع لحظيًّا.

  <p>يمكنك الإطلاع على <a href="https://github.com/noureddin/zz/blob/gh-pages/zz.py#L757-L813">دوال <code dir="ltr">zz_*</code>  الخاصة بذِكر الذِكر في ملف <code dir="ltr">zz.py</code></a>.
</ul>

</details>

---

جزى اللهُ خيرا الأستاذ [خالد حسني](https://github.com/khaledhosny/) لعمله على مشروع [Quran Data](https://github.com/aliftype/quran-data) ومشروع [الخط الأميري](https://www.amirifont.org/).

جزى الله خيرا القائمين على مشروع [Verse By Verse MP3 Quran](http://www.versebyversequran.com/)
لتوفيرهم التلاوات الصوتية للمشاريع التي تحتاجها،
مثل تطبيق رسايت للويب و[برنامج آيات](https://quran.ksu.edu.sa/).

جزى الله خيرًا صديقيّ [عز الدين](https://github.com/EzzEddin) و[أحمد حسن](https://github.com/ahmad-h-yassin) لمساعدتي في تطوير هذه التطبيقات وإمدادي بمعلومات وتعليقات قيمة.
